(()=>{var D=Object.create;var E=Object.defineProperty;var I=Object.getOwnPropertyDescriptor;var H=Object.getOwnPropertyNames;var P=Object.getPrototypeOf,R=Object.prototype.hasOwnProperty;var W=(t,i)=>()=>(i||t((i={exports:{}}).exports,i),i.exports);var K=(t,i,o,r)=>{if(i&&typeof i=="object"||typeof i=="function")for(let e of H(i))!R.call(t,e)&&e!==o&&E(t,e,{get:()=>i[e],enumerable:!(r=I(i,e))||r.enumerable});return t};var z=(t,i,o)=>(o=t!=null?D(P(t)):{},K(i||!t||!t.__esModule?E(o,"default",{value:t,enumerable:!0}):o,t));var _=W((v,w)=>{(function(t,i){typeof v=="object"&&typeof w<"u"?i():typeof define=="function"&&define.amd?define(i):i()})(v,function(){"use strict";function t(o){var r=!0,e=!1,a=null,c={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function d(n){return!!(n&&n!==document&&n.nodeName!=="HTML"&&n.nodeName!=="BODY"&&"classList"in n&&"contains"in n.classList)}function l(n){var M=n.type,L=n.tagName;return!!(L==="INPUT"&&c[M]&&!n.readOnly||L==="TEXTAREA"&&!n.readOnly||n.isContentEditable)}function m(n){n.classList.contains("focus-visible")||(n.classList.add("focus-visible"),n.setAttribute("data-focus-visible-added",""))}function s(n){n.hasAttribute("data-focus-visible-added")&&(n.classList.remove("focus-visible"),n.removeAttribute("data-focus-visible-added"))}function f(n){n.metaKey||n.altKey||n.ctrlKey||(d(o.activeElement)&&m(o.activeElement),r=!0)}function p(n){r=!1}function y(n){d(n.target)&&(r||l(n.target))&&m(n.target)}function O(n){d(n.target)&&(n.target.classList.contains("focus-visible")||n.target.hasAttribute("data-focus-visible-added"))&&(e=!0,window.clearTimeout(a),a=window.setTimeout(function(){e=!1},100),s(n.target))}function F(n){document.visibilityState==="hidden"&&(e&&(r=!0),h())}function h(){document.addEventListener("mousemove",u),document.addEventListener("mousedown",u),document.addEventListener("mouseup",u),document.addEventListener("pointermove",u),document.addEventListener("pointerdown",u),document.addEventListener("pointerup",u),document.addEventListener("touchmove",u),document.addEventListener("touchstart",u),document.addEventListener("touchend",u)}function N(){document.removeEventListener("mousemove",u),document.removeEventListener("mousedown",u),document.removeEventListener("mouseup",u),document.removeEventListener("pointermove",u),document.removeEventListener("pointerdown",u),document.removeEventListener("pointerup",u),document.removeEventListener("touchmove",u),document.removeEventListener("touchstart",u),document.removeEventListener("touchend",u)}function u(n){n.target.nodeName&&n.target.nodeName.toLowerCase()==="html"||(r=!1,N())}document.addEventListener("keydown",f,!0),document.addEventListener("mousedown",p,!0),document.addEventListener("pointerdown",p,!0),document.addEventListener("touchstart",p,!0),document.addEventListener("visibilitychange",F,!0),h(),o.addEventListener("focus",y,!0),o.addEventListener("blur",O,!0),o.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&o.host?o.host.setAttribute("data-js-focus-visible",""):o.nodeType===Node.DOCUMENT_NODE&&(document.documentElement.classList.add("js-focus-visible"),document.documentElement.setAttribute("data-js-focus-visible",""))}if(typeof window<"u"&&typeof document<"u"){window.applyFocusVisiblePolyfill=t;var i;try{i=new CustomEvent("focus-visible-polyfill-ready")}catch(o){i=document.createEvent("CustomEvent"),i.initCustomEvent("focus-visible-polyfill-ready",!1,!1,{})}window.dispatchEvent(i)}typeof document<"u"&&t(document)})});var dt=z(_(),1);var T=()=>{document.querySelectorAll(".js-catalog-control").forEach(t);function t(i){i.addEventListener("click",o=>{var c;let r=i.querySelector("[data-pagination]"),e=(c=o.target)==null?void 0:c.closest("[data-pagination-more]"),a=e==null?void 0:e.getAttribute("data-pagination-more");!a||e!=null&&e.classList.contains("loading")||(e.classList.add("loading"),fetch(a,{method:"GET"}).then(d=>d.text()).then(d=>{r&&r.remove(),d.trim()&&i.insertAdjacentHTML("beforeend",d)}).catch(d=>{console.error(d)}).then(()=>{e.classList.remove("loading")}))})}};var U=t=>{let i=t.getAttribute("data-id"),o=t.getAttribute("data-close-condition");if(!i||t.classList.contains("init"))return;t.classList.add("init"),t.addEventListener("click",()=>{r(i,!t.classList.contains("active"))}),(!o||window.matchMedia(o).matches)&&window.project.onClick.push(e=>{!e.closest('.js-toggle-view-button[data-id="'+i+'"]')&&!e.closest('.js-toggle-view-block[data-id="'+i+'"]')&&r(i)});function r(e,a=!1){let c=document.querySelectorAll('.js-toggle-view-button[data-id="'+e+'"]'),d=document.querySelectorAll('.js-toggle-view-block[data-id="'+e+'"]');c.forEach(l=>{a?l.classList.add("active"):l.classList.remove("active")}),d.forEach(l=>{a?l.classList.add("active"):l.classList.remove("active")})}},A=()=>{document.querySelectorAll(".js-toggle-view-button").forEach(U)};var b=(t,i="auto",o={},r)=>{if(!t)return!1;let e=Object.assign({display:"block",changeHeight:!0,changeOpacity:!0,animation:"ease-in-out",timeout:200,styles:""},o),a="all ".concat(e.timeout,"ms ").concat(e.animation),c=d(t);if(i==="show"?e._targetVisible=!0:i==="hide"?e._targetVisible=!1:e._targetVisible=!c,e._targetVisible===c)return!1;if(e.styles&&t.setAttribute("style",e.styles),e._targetVisible){if(t.style.visibility="hidden",t.style.overflow="hidden",t.style.display=e.display,e.changeOpacity&&(t.style.opacity="0"),e.changeHeight){let s=m(t);e._h=s.h,e._pt=s.pt,e._pb=s.pb,e._mt=s.mt,e._mb=s.mb,e._btw=s.btw,e._bbw=s.bbw,t.style.height="0",t.style.marginTop="0",t.style.paddingTop="0",t.style.marginBottom="0",t.style.paddingBottom="0",t.style.borderTopWidth="0",t.style.borderBottomWidth="0"}setTimeout(function(){t.style.transition=a,t.style.visibility="visible"},0)}else{if(e.changeOpacity&&(t.style.opacity="1"),e.changeHeight){let s=m(t);t.style.height=s.h+"px",t.style.marginTop=s.mt+"px",t.style.paddingTop=s.pt+"px",t.style.marginBottom=s.mb+"px",t.style.paddingBottom=s.pb+"px",t.style.borderTopWidth=s.btw+"px",t.style.borderBottomWidth=s.bbw+"px"}setTimeout(function(){t.style.overflow="hidden",t.style.transition=a},0)}setTimeout(function(){e.changeOpacity&&(t.style.opacity=e._targetVisible?"1":"0"),e.changeHeight&&(t.style.height=e._targetVisible?e._h+"px":"0",t.style.marginTop=e._targetVisible?e._mt+"px":"0",t.style.paddingTop=e._targetVisible?e._pt+"px":"0",t.style.marginBottom=e._targetVisible?e._mb+"px":"0",t.style.paddingBottom=e._targetVisible?e._pb+"px":"0",t.style.borderTopWidth=e._targetVisible?e._btw+"px":"0",t.style.borderBottomWidth=e._targetVisible?e._bbw+"px":"0")},15),setTimeout(function(){t.setAttribute("style",(e._targetVisible?"display:"+e.display+";":"display: none;")+e.styles),typeof r=="function"&&r()},e.timeout);function d(s){let f=s.getBoundingClientRect(),p=f.height||f.bottom-f.top,y=f.width||f.right-f.left;return!!p||!!y}function l(s,f){return parseInt(getComputedStyle(s)[f],10)}function m(s){return{h:s.offsetHeight,mt:l(s,"marginTop"),pt:l(s,"paddingTop"),mb:l(s,"marginBottom"),pb:l(s,"paddingBottom"),btw:l(s,"borderTopWidth"),bbw:l(s,"borderBottomWidth")}}return!0};var Z=function(t,i={}){let o=t.querySelectorAll("[data-accordion-item]");if(!o[0]||t.classList.contains("init"))return!1;t.classList.add("init"),i=Object.assign({closeOthers:!1},i),o.forEach(a=>e(a,o,i));function e(a,c,d){let l=a.querySelector("[data-accordion-control]"),m=a.querySelector("[data-accordion-target]");if(!l||!m)return!1;l.addEventListener("click",()=>{(!d.condition||d.condition())&&(l.focus(),c.forEach(s=>{if(s.classList.contains("opened")&&(d.closeOthers||s===a)){let f=s.querySelector("[data-accordion-control]"),p=s.querySelector("[data-accordion-target]");s.classList.remove("opened"),p.classList.remove("opened"),f.classList.remove("opened"),b(p,"hide")}else s===a&&(d.closeOthers||!s.classList.contains("opened"))&&(s.classList.add("opened"),m.classList.add("opened"),l.classList.add("opened"),b(m,"show"))}))})}},x=()=>{document.querySelectorAll(".js-accordion").forEach(Z)};var g=(t,i="",o=!1)=>{var r;i&&i.trim()?(t.insertAdjacentHTML("beforeend",'<div class="formResult '+(o?"_success":"_error")+'" data-result>'+i.trim()+"</div>"),o?t.classList.add("success"):t.classList.add("error")):((r=t.querySelector("[data-result]"))==null||r.remove(),t.classList.remove("success","error"))},V=t=>{let i=t.querySelector('[type="submit"]');!!t.querySelector("input.error")?i.disabled=!0:i.disabled=!1},S=(t,i)=>{t.classList.add("error"),t.parentElement.insertAdjacentHTML("beforeend",'<div class="formInputError" data-error>'+i+"</div>")},$=t=>{var r;let i=t==null?void 0:t.querySelectorAll("input[data-required]"),o=!0;return i.forEach(e=>{let a=e.value.trim(),c=e.getAttribute("data-required");a||(o=!1,S(e,"\u042D\u0442\u043E \u043F\u043E\u043B\u0435 \u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E \u043A&nbsp;\u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044E")),a&&c==="email"&&(/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/.test(a)||(o=!1,S(e,"\u0417\u0430\u043F\u043E\u043B\u043D\u0438\u0442\u0435 \u043F\u043E\u043B\u0435 \u0432&nbsp;\u0432\u0438\u0434\u0435 _____@____.__")))}),o||(r=t.querySelector("input.error"))==null||r.focus(),o},G=t=>{let i=t.querySelector('[type="submit"]');t.classList.contains("init")||(t.classList.add("init"),t.addEventListener("input",o=>{let r=o.target,e=r.parentElement.querySelectorAll("[data-error]");r.classList.remove("error"),e.forEach(a=>a.remove()),V(t)}),t.addEventListener("submit",o=>{if(o.preventDefault(),t.classList.contains("loading"))return;if(g(t),!$(t)){V(t);return}let r=new FormData(t),e=t.getAttribute("action"),a=t.getAttribute("method")||"POST";t.classList.add("loading"),i==null||i.classList.add("loading"),fetch(e,{method:a,body:r}).then(c=>c.json()).then(c=>{c.status==="ok"?(t.reset(),g(t,c.message||"\u0414\u0430\u043D\u043D\u044B\u0435 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u044B.",!0)):c.status==="error"?g(t,c.message||"\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0435 \u0437\u0430\u043F\u0440\u043E\u0441\u0430! <br> \u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u043F\u0440\u043E\u0432\u0435\u0440\u044C\u0442\u0435 \u0434\u0430\u043D\u043D\u044B\u0435 \u0438\u043B\u0438 \u043F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u043E\u0437\u0436\u0435."):g(t,c.message||"\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043D\u0435\u043F\u0440\u0435\u0434\u0432\u0438\u0434\u0435\u043D\u043D\u0430\u044F \u043E\u0448\u0438\u0431\u043A\u0430! <br> \u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u043F\u0440\u043E\u0432\u0435\u0440\u044C\u0442\u0435 \u0434\u0430\u043D\u043D\u044B\u0435 \u0438\u043B\u0438 \u043F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u043E\u0437\u0436\u0435.")}).catch(c=>{g(t,"\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043E\u0442\u043F\u0440\u0430\u0432\u043A\u0435 \u0437\u0430\u043F\u0440\u043E\u0441\u0430! <br> \u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u043F\u0440\u043E\u0432\u0435\u0440\u044C\u0442\u0435 \u0438\u043D\u0442\u0435\u0440\u043D\u0435\u0442 \u0441\u043E\u0435\u0434\u0438\u043D\u0435\u043D\u0438\u0435 \u0438\u043B\u0438 \u043F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u043E\u0437\u0436\u0435."),console.error(c)}).then(()=>{t.classList.remove("loading"),i==null||i.classList.remove("loading")})}))},j=()=>{document.querySelectorAll(".js-default-form").forEach(G)};var q=t=>{A(),x(),j()};var C=function(){let t=function(i){if(!window.project.onClick[0])return;let o=window.project.onClick;for(let r=0;r<o.length;r++){let e=o[r];typeof e=="function"&&e((i==null?void 0:i.target)||void 0)}};document.addEventListener("click",t),document.addEventListener("keydown",i=>{i.key.toLocaleLowerCase()==="escape"&&t()})};var k=()=>{let t=document.location.hash,i=t&&document.querySelector(t);if(!i)return;let o=i.getAttribute("data-scroll-add")||100;setTimeout(()=>{window.scrollBy({top:i.getBoundingClientRect().top-+o})},500)};var B=t=>{window.project={defaultElements:q,onClick:[]},C(),k(),T(),window.project.defaultElements(t)};document.addEventListener("DOMContentLoaded",t=>{B(t)});})();
